# âš½ Soccer Controller

Cliente em C++ para controlar robÃ´s no **[TraveSim](https://github.com/futebol-mini/travesim)**, utilizando **Qt6**, **SDL2** e **protobuf**.

---

## ğŸš€ PrÃ©-requisitos

Este projeto depende do [TraveSim](https://github.com/futebol-mini/travesim).
Certifique-se de que o TraveSim esteja instalado e funcionando antes de usar o controller.

### DependÃªncias principais

* CMake (>= 3.16)
* Qt6 (Core, Network)
* SDL2
* Protobuf (compilador + headers)
* `vsss_sim_pb_msgs` (submÃ³dulo git)

---

## ğŸ§ InstalaÃ§Ã£o de dependÃªncias

### Fedora

```bash
sudo dnf install -y cmake gcc-c++ git \
    qt6-qtbase-devel qt6-qtbase-private-devel \
    qt6-qtbase-gui-devel qt6-qttools-devel \
    SDL2-devel protobuf-devel protobuf-compiler
```

### Ubuntu (22.04+)

```bash
sudo apt update
sudo apt install -y cmake g++ git \
    qt6-base-dev qt6-base-dev-tools \
    libsdl2-dev protobuf-compiler libprotobuf-dev
```

### macOS (Homebrew)

```bash
brew install cmake git protobuf sdl2 qt@6
```

> âš ï¸ O `qt@6` nÃ£o Ã© linkado no PATH por padrÃ£o.
> Para o CMake encontrar, adicione:
>
> ```bash
> export CMAKE_PREFIX_PATH="$(brew --prefix qt@6)"
> ```

---

## ğŸ‘½ï¸ Git Submodules

O projeto utiliza a biblioteca `vsss_sim_pb_msgs` como **submÃ³dulo**.

### ğŸ’¥ Adicionar um submÃ³dulo

Na raiz do repositÃ³rio:

Com HTTPS:

```bash
git submodule add --name vsss_sim_pb_msgs https://github.com/ThundeRatz/vsss_sim_pb_msgs.git proto
```

Com SSH:

```bash
git submodule add --name vsss_sim_pb_msgs git@github.com:ThundeRatz/vsss_sim_pb_msgs.git proto
```

### âœ… Inicializar um submÃ³dulo existente

Se vocÃª clonou um repositÃ³rio que jÃ¡ possui submÃ³dulos:

* Clonar jÃ¡ com submÃ³dulos:

```bash
git clone --recurse-submodules git@github.com:ThundeRatz/travesim_adapters.git
```

* Clonar sem submÃ³dulos e inicializar depois:

```bash
git submodule update --init
```

---

## âš™ï¸ CompilaÃ§Ã£o com CMake

Na raiz do projeto:

```bash
mkdir build && cd build
cmake ..
make -j
```

O CMake jÃ¡ lida com as dependÃªncias necessÃ¡rias:

```cmake
target_link_libraries(soccer-controller
    Qt6::Core
    Qt6::Network
    SDL2::SDL2
    pb_msgs_lib
)
```

---

## â–¶ï¸ ExecuÃ§Ã£o

ApÃ³s compilar, rode o controller enquanto o **TraveSim** estiver em execuÃ§Ã£o.
Certifique-se de que o TraveSim estÃ¡ rodando e escutando pacotes UDP (azul -> 127.0.0.1:20013, amarelo -> 127.0.0.1:20012).


Exemplo:

* Controle no Ã­ndice `0` â†’ robÃ´ **azul** (id 0)
* Controle no Ã­ndice `1` â†’ robÃ´ **amarelo** (id 0)

---

## ğŸ® Controles

* **AnalÃ³gico esquerdo** â†’ frente / rÃ©
* **L1 / R1** â†’ girar para esquerda / direita
* Nenhum input â†’ motores desligados (`RELEASED`)

---

## ğŸ“Œ ObservaÃ§Ãµes

* Se os robÃ´s nÃ£o se moverem, verifique:

  * O endereÃ§o e porta configurados.
  * Se o TraveSim estÃ¡ rodando corretamente.
  * Se os pacotes protobuf estÃ£o compatÃ­veis com a versÃ£o usada no TraveSim.
